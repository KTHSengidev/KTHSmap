<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>神工 校内マップ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/leaflet.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/leaflet.js"></script>
    <script type="text/javascript" src="js/imgViewer2.js"></script>
    <script>
        $(function(){
            $('input').change(function(){
                var val = $(this).val();
                if (val){
                    var val = val.substr(0, 2);
                    var selectFloorId = '#' + val;
                    $('ul li').hide();
                    $(selectFloorId).show();
                    var $img = $(selectFloorId+"_img").imgViewer2(
                        {
                            onReady: function(){
                                this.setZoom(2);
                                this.setZoom(1);
                            }
                        }
                    );
                }
            });
        });
        ;(function($){
            $(window).on("load", function(){
                var $img = $("#1F_img").imgViewer2(
                    {
                        onReady: function(){
                            this.setZoom(2);
                            this.setZoom(1);
                        }
                    }
                );
            });
        })(jQuery);
        function clearText() {
            var textForm = document.getElementById("rnform");
            textForm.value = '';
        }
    </script>
</head>
<body class="rn">
    <header>
        <h2>神奈川工業高校 2024 神工祭</h2>
    </header>
    <main>
        <div class="tablike">
            <div id="room">フロアマップ</div>
            <div id="floor"><a href="leaflet.html">リーフレット</a></div>
        </div>
        <div class="sroom"><p>右上のボタンで階数切り替え</p>
            <div id="map" style="width: 100%;height: 480px;"></div>
            <p>ピンチアウトで地図を拡大</p>
        </div>
    </main>
    <footer>
        <p>学校関係者以外へのリンクシェア禁止<br>
        <small>&copy; 2024 神工校内マップ 108期生製作 v2.0</small></p>
    </footer>
    <script>
        var map = L.map('map', {
            crs: L.CRS.Simple,
            maxZoom: 1,
            minZoom: -2
        });
        var bounds = [[0,0], [2000,2000]];
        map.fitBounds(bounds);

        L.control.layers({
            "1F": L.imageOverlay("svg/1F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }).addTo(map),
            "2F": L.imageOverlay("svg/2F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "3F": L.imageOverlay("svg/3F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "4F": L.imageOverlay("svg/4F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "5F": L.imageOverlay("svg/5F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "6F": L.imageOverlay("svg/6F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "7F": L.imageOverlay("svg/7F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "8F": L.imageOverlay("svg/8F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "9F": L.imageOverlay("svg/9F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            }),
            "10F": L.imageOverlay("svg/10F.svg", bounds, {
                attribution: "&copy; 令和6年度 文化祭実行委員会<br><a href='https://www.pen-kanagawa.ed.jp/kanagawa-th/'>神奈川県立神奈川工業高等学校</a>"
            })
        }, null, {collapsed: false,}).addTo(map);

        map.zoomControl.setPosition("bottomright");

        L.control.layers(null, overlayLayerControls, {collapsed: false}).addTo(map);

        L.imageOverlay(image.url, imageBounds).addTo(map);
    </script>
</body>
</html>
